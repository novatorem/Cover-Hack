(this.webpackJsonpCoverHack=this.webpackJsonpCoverHack||[]).push([[0],{122:function(e,t,a){},141:function(e,t,a){},179:function(e,t,a){e.exports=a(336)},184:function(e,t,a){},190:function(e,t,a){},335:function(e,t,a){},336:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),c=a.n(o),l=a(6),i=a(25),s=a(23),u=a(29),m=a(28),d=a(154),p=a(42),f=(a(184),a(403)),b=a(405),h=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentWillMount",value:function(){var e=this;Object(l.stopLogging)();this._subscription=Object(l.subscribe)((function(t){e.setState(t)}),this.filterState.bind(this));var t=this.filterState(Object(l.getState)());if(!Object(b.a)(t))throw new Error("The result of filterState() must be an object");this.setState(t)}},{key:"componentWillUnmount",value:function(){Object(l.unsubscribe)(this._subscription)}},{key:"filterState",value:function(){throw new Error("filterState() is not implemented")}}]),a}(r.a.Component),g=a(12),v=a(143),E=a.n(v),j=a(163),F=a(390),O=a(380),S=a(411),y=a(381),w=a(389),C=a(382),k=a(383),x=a(160),T=a(379),N=a(68),D=a.n(N),B=a(106),I=function(){var e="/covers/"+Object(l.getState)("userID");fetch(e).then((function(e){if(200===e.status)return e.json();alert("Could not get anything")})).then((function(e){Object(l.setState)("userCovers",e)})).catch((function(e){console.log(e)}))},_=function(){var e=Object(B.a)(D.a.mark((function e(){var t,a,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,500)}));case 2:t=Object(l.getState)("cover"),a=void 0!==t._id?"/covers/"+t._id:"/covers/"+t.id,n=new Request(a,{method:"PATCH",body:JSON.stringify({data:t.data}),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}),fetch(n).then((function(e){if(200===e.status)return Object(l.setState)("saveSuccess",!0),setTimeout((function(){Object(l.setState)("saveSuccess",!1)}),3250),e.json();console.log(e)})).catch((function(e){console.log(e)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(B.a)(D.a.mark((function e(){var t,a,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,500)}));case 2:t=Object(l.getState)("cover"),a=void 0!==t._id?"/covers/"+t._id:"/covers/"+t.id,n=new Request(a,{method:"DELETE",body:JSON.stringify({data:t.data}),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}),fetch(n).then((function(e){if(200===e.status)return Object(l.setState)("deleteSuccess",!0),setTimeout((function(){Object(l.setState)("deleteSuccess",!1)}),3250),I(),e.json();console.log(e)})).catch((function(e){console.log(e)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function L(e){return r.a.createElement(E.a,{handle:"#draggable-dialog-title",cancel:'[class*="MuiDialogContent-root"]'},r.a.createElement(j.a,e))}var W=Object(x.a)({palette:{type:"dark"}});function P(e){var t=r.a.useState(""),a=Object(g.a)(t,2),n=a[0],o=a[1],c=r.a.useState(!1),i=Object(g.a)(c,2),s=i[0],u=i[1],m=r.a.useState(""),d=Object(g.a)(m,2),p=d[0],f=d[1],b=function(){Object(l.setState)("deleteC",!1)},h=function(){n===e.title?(U(),b()):(u(!0),f("Incorrect Title"))};return r.a.createElement(T.a,{theme:W},r.a.createElement(O.a,{open:!0,onClose:b,PaperComponent:L,"aria-labelledby":"draggable-dialog-title"},r.a.createElement(y.a,{style:{cursor:"move"},id:"draggable-dialog-title"},"Delete Cover"),r.a.createElement(C.a,null,r.a.createElement(k.a,null,"To delete, please re-enter the title of the cover letter you'd like to delete (",e.title,")."),r.a.createElement(S.a,{autoFocus:!0,error:s,margin:"dense",id:"title",label:"Cover Letter Title",helperText:p,type:"title",fullWidth:!0,value:n,onChange:function(e){o(e.target.value)},onKeyDown:function(e){13===e.keyCode&&h()}})),r.a.createElement(w.a,null,r.a.createElement(F.a,{autoFocus:!0,onClick:b,color:"default"},"Cancel"),r.a.createElement(F.a,{onClick:h,color:"secondary"},"Delete"))))}var A=Object(x.a)({palette:{type:"dark"}});function H(e){var t=function(){Object(l.setState)("info",!1)};return r.a.createElement(T.a,{theme:A},r.a.createElement(O.a,{fullWidth:!0,maxWidth:"lg",open:!0,onClose:t},r.a.createElement(y.a,{id:"max-width-dialog-title"},"Cover Hack"),r.a.createElement(C.a,null,r.a.createElement(k.a,null,"Hi there, ",e.currentUser,".")),r.a.createElement(w.a,null,r.a.createElement(F.a,{onClick:t,color:"primary"},"Close"))))}var R=a(48),M=a(67),$=a(3),z=a(388),J=a(162),q=a(413),K=a(399),G=a(149),V=a.n(G),Q=a(147),X=a.n(Q),Y=a(151),Z=a.n(Y),ee=a(400),te=a(396),ae=a(338),ne=a(395),re=a(148),oe=a.n(re),ce=a(50),le=a(401),ie=a(391),se=a(150),ue=a.n(se),me=a(398),de=a(402),pe=a(393),fe=a(153),be=a.n(fe),he=a(152),ge=a.n(he),ve=a(394),Ee=a(4),je=a(161),Fe=a(406),Oe=a(145),Se=a.n(Oe),ye=a(386),we=a(412),Ce=a(91),ke=a(107),xe=a.n(ke),Te=a(144),Ne=a.n(Te),De=a(392),Be=Object(ie.a)({avatar:{backgroundColor:Ce.a[100],color:Ce.a[600]}});function Ie(e){var t=Be(),a=e.onClose,n=e.selectedValue,o=e.open,c=function(e){a(e)};return r.a.createElement(O.a,{onClose:function(){a(n)},"aria-labelledby":"simple-dialog-title",open:o},r.a.createElement(y.a,{id:"simple-dialog-title"},"Add a Paragraph"),r.a.createElement(z.a,null,e.paragraphs.map((function(e){return e=e[0].substring(1,e[0].length-1),r.a.createElement(ae.a,{button:!0,onClick:function(){return c(e.split("|")[1])},key:e.split("|")[1]},r.a.createElement(De.a,null,r.a.createElement(we.a,{className:t.avatar},r.a.createElement(xe.a,null))),r.a.createElement(pe.a,{primary:e.split("|")[0]}))})),r.a.createElement(ae.a,{autoFocus:!0,button:!0,onClick:function(){return c("")}},r.a.createElement(De.a,null,r.a.createElement(we.a,null,r.a.createElement(Ne.a,null))),r.a.createElement(pe.a,{primary:"Clear"}))))}function _e(e){var t=r.a.useState(!1),a=Object(g.a)(t,2),n=a[0],o=a[1],c=r.a.useState(""),l=Object(g.a)(c,2),i=l[0],s=l[1];return r.a.createElement("div",null,r.a.createElement(ce.a,{align:"left"},i),r.a.createElement("br",null),r.a.createElement(ve.a,{container:!0,justify:"center"},r.a.createElement(F.a,{color:"default",variant:"outlined","aria-label":"paragraph",onClick:function(){o(!0)}},r.a.createElement(xe.a,null))),r.a.createElement(Ie,{selectedValue:i,open:n,onClose:function(t){e.paraArr[e.closureCount]=t,o(!1),s(t),e.store=t},paragraphs:e.paragraphs}))}a(190);var Ue=Object(x.a)({palette:{type:"dark"}}),Le=Object(Ee.a)({root:{marginTop:"-1px",marginBottom:"1px"}})(S.a),We=Object(Ee.a)({root:{marginTop:"-3px",marginBottom:"3px"}})(ye.a),Pe=Object(Ee.a)((function(e){return{root:{position:"sticky",bottom:"1%"}}}))(F.a),Ae=Object(Ee.a)({root:{overflow:"auto",marginTop:"15px",height:"calc(100% - 18px)"}})(ce.a),He=[],Re=-1,Me=[],$e=-1,ze=[],Je=-1,qe=[],Ke=function(e){return function(){$e++,Me.push("");var t=$e,a=(e=e.substring(1,e.length-1)).split("/"),n=[];return a.forEach((function(e){n.push(r.a.createElement(ne.a,{value:e},e))})),r.a.createElement(We,null,r.a.createElement(Fe.a,{onChange:function(e){Me[t]=e.target.value}},n))}()},Ge=function(e,t,a){if("object"===typeof e)return e;for(var n,r=/{[\w\s-.,;:`"'()]*\/.*?}/g,o=e.split(r),c=1;null!==(n=r.exec(e));)o.splice(c,0,Ke(n[0])),c+=2;return o=o.filter((function(e){return e}))},Ve=function(e,t,a){if("string"!==typeof e[0])return e;qe=[];var n=/{.+\|.+?}/g;console.log(e);var r,o=e.split(n);for(console.log(o);null!==(r=n.exec(e));)qe.push(r);return o=o.filter((function(e){return e})),console.log(o),o},Qe=function(e,t,a){if("string"!==typeof e[0])return e;for(var n=/{\*}/g,o=e.split(n),c=1;null!==n.exec(e);)o.splice(c,0,function(){Je++,ze.push("");var e=Je;return r.a.createElement(_e,{paragraphs:qe,store:ze[e],paraArr:ze,closureCount:e})}()),c+=2;return o=o.filter((function(e){return e}))};function Xe(e){var t=function(e){if(e.length<1)return[];Re=-1,$e=-1;var t=e.split("{_}");return Object(je.a)(t).map((function(e,a){return a<t.length-1?[e,function(){Re++,He.push("");var e=Re;return r.a.createElement(Le,{size:"small",onChange:function(t){He[e]=t.target.value}})}()]:[e]})).reduce((function(e,t){return e.concat(t)})).map(Ge).flat().map(Ve).flat().map(Qe).flat()}(e.data);return r.a.createElement(T.a,{theme:Ue},r.a.createElement(Ae,{align:"left",style:{whiteSpace:"pre-line"}},t),r.a.createElement(Pe,{color:"primary",onClick:function(){for(var e=0,a=0,n=0,r=[];""===He[He.length-1];)He.pop();for(;""===Me[Me.length-1];)Me.pop();var o=0;t.forEach((function(e){void 0!==e.props&&void 0!==e.props.store&&o++}));for(var c=ze.slice(ze.length-o,ze.length),l=ze.length/o-1;l>=0;l--)for(var i=0;i<o;i++)""!==c[i]&&void 0!==c[i]||""!==ze[l+i]&&void 0!==ze[l+i]&&(c[i]=ze[l+i]);t.forEach((function(t){"string"===typeof t?r.push(t):"small"===t.props.size?(r.push(He[e]),e++):void 0!==t.props.store?(r.push(c[n]),n++):(r.push(Me[a]),a++)})),console.log(r.join("")),navigator.clipboard.writeText(r.join(""))},variant:"contained",startIcon:r.a.createElement(Se.a,null)},"Copy to clipboard"))}function Ye(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var Ze=Object(ie.a)((function(e){return{root:{flexGrow:1,height:"100%"},paper:{padding:e.spacing(3),color:e.palette.text.secondary,height:"100%"}}})),et=Object(Ee.a)({root:{height:"100%",paddingLeft:"12px",paddingRight:"12px"}})(ve.a),tt=Object(Ee.a)({root:{marginTop:"15px"}})(S.a),at=Object(Ee.a)({root:{marginTop:"-15px",marginBottom:"2px"}})(ce.a),nt=Object(Ee.a)({})(j.a);function rt(e){var t=e.cover,a=Ze(),o=r.a.useState(t.data),c=Object(g.a)(o,2),i=c[0],s=c[1],u="column",m=function(){var e=Object(n.useState)(Ye()),t=Object(g.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){function e(){r(Ye())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),a}(),d=m.height;m.width>=d&&(u="row"),r.a.useEffect((function(){s(t.data)}),[t.data]);return r.a.createElement("div",{className:a.root},r.a.createElement(et,{container:!0,alignItems:"stretch",spacing:2,direction:u},r.a.createElement(et,{item:!0,xs:!0},r.a.createElement(j.a,{className:a.paper},r.a.createElement(at,{variant:"h6",noWrap:!0},"Hack"),r.a.createElement(te.a,null),r.a.createElement(tt,{id:"standard-multiline-flexible",multiline:"true",fullWidth:"true",InputProps:{disableUnderline:!0},value:i,onChange:function(e){s(e.target.value),Object(l.setState)("cover",{id:t._id,data:e.target.value})}}))),r.a.createElement(et,{item:!0,xs:!0},r.a.createElement(nt,{className:a.paper},r.a.createElement(at,{variant:"h6",noWrap:!0},"True"),r.a.createElement(te.a,null),r.a.createElement(Xe,{data:i})))))}var ot=a(397),ct=a(146),lt=a.n(ct),it=(a(122),Object(ie.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},extendedIcon:{marginRight:e.spacing(1)},overrides:{DialogContentText:{root:{color:"#00FF00"}}}}}))),st=Object(x.a)({overrides:{MuiInput:{underline:{"&:before":{borderBottom:"1px solid #FFFFFF44"},"&:hover":{borderBottom:"1px solid #FFFFFF88"},"&:hover:not($disabled):after":{borderBottom:"1px solid #FFFFFF"},"&:hover:not($disabled):before":{borderBottom:"1px solid #FFFFFFAA"},"&:after":{borderBottom:"1px solid #FFFFFF44"}}},MuiInputLabel:{root:{color:"#FFFFFFDC","&$focused":{color:"#FFFFFF"}}}}});function ut(){var e=it(),t=r.a.useState(!1),a=Object(g.a)(t,2),n=a[0],o=a[1],c=r.a.useState(""),i=Object(g.a)(c,2),s=i[0],u=i[1],m=function(){o(!1)},d=function(){!function(e){if(e.length>12^e.length<1)return Object(l.setState)("coverShort",!0),void setTimeout((function(){Object(l.setState)("coverShort",!1)}),3250);var t=new Request("/covers/new",{method:"post",body:JSON.stringify({owner:Object(l.getState)("userID"),title:e,data:""}),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}});fetch(t).then((function(e){if(200===e.status)return Object(l.setState)("coverSuccess",!0),setTimeout((function(){Object(l.setState)("coverSuccess",!1)}),3250),I(),e.json()})).catch((function(e){console.log(e)}))}(s),o(!1)};return r.a.createElement(T.a,{theme:st},r.a.createElement("div",{className:e.root},r.a.createElement("div",{className:"newCover"},r.a.createElement(ot.a,{color:"primary","aria-label":"add",onClick:function(){o(!0)}},r.a.createElement(lt.a,null))),r.a.createElement(O.a,{open:n,onClose:m,"aria-labelledby":"form-dialog-title",PaperProps:{style:{backgroundColor:"#393939",color:"#FFFFFFDE"}}},r.a.createElement(y.a,{id:"form-dialog-title"},"New Cover Letter"),r.a.createElement(C.a,null,r.a.createElement(k.a,null,r.a.createElement("span",{style:{color:"#FFFFFFDE"}},"To create a new cover letter, please enter the title below.")),r.a.createElement(S.a,{value:s,onChange:function(e){u(e.target.value)},autoFocus:!0,margin:"dense",id:"name",label:"Title",type:"text",fullWidth:!0,InputProps:{style:{color:"#FFFFFFDE"}},onKeyDown:function(e){13===e.keyCode&&d()}})),r.a.createElement(w.a,null,r.a.createElement(F.a,{onClick:m,color:"secondary",fullWidth:"true"},"Cancel"),r.a.createElement(F.a,{onClick:d,color:"primary",fullWidth:"true"},"Create")))))}var mt=function(){Object(l.setState)("currentUser",null),Object(l.setState)("loginForm",{username:"",password:""}),Object(l.setState)("userID",null),Object(l.setState)("loginFailed",!1),Object(l.setState)("registered",!1),Object(l.setState)("passwordShort",!1),Object(l.setState)("invalidUsername",!1),Object(l.setState)("coverTitle",null),Object(l.setState)("coverShort",!1),Object(l.setState)("coverSuccess",!1),Object(l.setState)("cover",null),Object(l.setState)("info",!1),Object(l.setState)("deleteC",!1),Object(l.setState)("userCovers",null),Object(l.setState)("saveSuccess",!1),Object(l.setState)("deleteSuccess",!1),Object(l.setState)("defaultCover",{data:"Begin by creating a new cover letter.\n\nThen you can create input forms with {_}.\n\nSelectors can be created with {Developer/Engineer/Researcher}.\n\nTreat this as you would `MarkDown`!"})},dt=function(e){var t=e.name,a=e.value;Object(l.setState)("loginForm.".concat(t),a)},pt=function(){var e=new Request("/users/login",{method:"post",body:JSON.stringify(Object(l.getState)("loginForm")),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}});fetch(e).then((function(e){if(200===e.status)return e.json();Object(l.setState)("failedLogin",!0),setTimeout((function(){Object(l.setState)("failedLogin",!1)}),3250)})).then((function(e){void 0!==e.currentUser&&(Object(l.setState)("userID",e.userID),Object(l.setState)("currentUser",e.currentUser),I())})).catch((function(e){console.log(e)}))},ft=function(e){var t=new Request("/users/register",{method:"post",body:JSON.stringify(Object(l.getState)("loginForm")),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}});fetch(t).then((function(e){if(200===e.status)return e.json()})).then((function(e){void 0!==e?(Object(l.setState)("registered",!0),setTimeout((function(){Object(l.setState)("registered",!1)}),3250),pt()):Object(l.getState)("loginForm").password.length<6?(Object(l.setState)("passwordShort",!0),setTimeout((function(){Object(l.setState)("passwordShort",!1)}),3250)):(Object(l.setState)("invalidUsername",!0),setTimeout((function(){Object(l.setState)("invalidUsername",!1)}),3250))})).catch((function(e){console.log(e)}))},bt=function(){fetch("/users/logout").then((function(e){mt()})).catch((function(e){console.log(e)}))},ht=Object(x.a)({palette:{type:"dark"}}),gt=Object(ie.a)((function(e){return{root:{display:"flex",height:"100%"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(175,"px)"),marginLeft:175,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},titleTypo:{flex:1},hide:{display:"none"},drawer:{position:"relative",width:175,flexShrink:0},drawerPaper:{width:175},drawerHeader:Object(M.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"flex-end"}),content:{flexGrow:1,paddingTop:e.spacing(8),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-175,height:"100%",backgroundImage:'url("https://cdn.glitch.com/0ae08cca-f72e-4675-be70-b794f4bd0b72%2Fbg.jpg?v=1588962305935")',backgroundRepeat:"no-repeat",backgroundSize:"cover"},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},button:{textTransform:"none"},paper:{height:"100%",marginLeft:"12px",marginRight:"12px"}}}));function vt(e){var t=-1,a=gt(),o=r.a.createElement(rt,{cover:e.defaultCover}),c=Object(n.useState)(!1),i=Object(g.a)(c,2),s=i[0],u=i[1],m=Object(n.useState)(null),d=Object(g.a)(m,2),p=d[0],f=d[1],b=Object(n.useState)(null),h=Object(g.a)(b,2),v=h[0],E=h[1],j=Object(n.useState)(o),O=Object(g.a)(j,2),S=O[0],y=O[1],w=Object(n.useState)("Welcome to Cover Hack!"),C=Object(g.a)(w,2),k=C[0],x=C[1],N=r.a.useState(null),D=Object(g.a)(N,2),B=D[0],I=D[1],U=function(){E(null)};return r.a.createElement("div",{className:a.root},r.a.createElement(T.a,{theme:ht},r.a.createElement(me.a,null),r.a.createElement(K.a,{position:"fixed",className:Object($.a)(a.appBar,Object(R.a)({},a.appBarShift,s))},r.a.createElement(ee.a,null,r.a.createElement(le.a,{color:"inherit","aria-label":"open drawer",onClick:function(){u(!0)},edge:"start",className:Object($.a)(a.menuButton,s&&a.hide)},r.a.createElement(X.a,null)),r.a.createElement(ce.a,{variant:"h6",noWrap:!0,className:Object($.a)(a.titleTypo)},k),p?r.a.createElement(le.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(){Object(l.setState)("deleteC",!0)}},r.a.createElement(oe.a,null)):null,p?r.a.createElement(le.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(){_()}},r.a.createElement(V.a,null)):null,r.a.createElement(le.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){E(e.currentTarget)}},r.a.createElement(ue.a,null)),r.a.createElement(J.a,{id:"simple-menu",anchorEl:v,keepMounted:!0,open:Boolean(v),onClose:U},r.a.createElement(ne.a,{onClick:function(){U(),Object(l.setState)("info",!0)}},r.a.createElement(de.a,null,r.a.createElement(Z.a,{fontSize:"small"})),r.a.createElement(ce.a,null,"Info")),r.a.createElement(ne.a,{onClick:bt},r.a.createElement(de.a,null,r.a.createElement(ge.a,{fontSize:"small"})),r.a.createElement(ce.a,null,"Log out"))))),r.a.createElement(q.a,{className:a.drawer,variant:"persistent",anchor:"left",open:s,classes:{paper:a.drawerPaper}},r.a.createElement("div",{className:a.drawerHeader},r.a.createElement(F.a,{onClick:function(){f(null),Object(l.setState)("cover",null),y(o),x("Welcome to Cover Hack!"),I(-1)},className:a.button},"Cover Hack"),r.a.createElement(le.a,{onClick:function(){u(!1)}},r.a.createElement(be.a,null))),r.a.createElement(te.a,null),r.a.createElement(z.a,null,e.userCovers?e.userCovers.map((function(e){return function(){var a=++t;return r.a.createElement(ae.a,{button:!0,selected:B===a,key:e.title,onClick:function(t){return f(e),x(e.title),Object(l.setState)("cover",e),y(r.a.createElement(rt,{cover:e})),void I(a)}},r.a.createElement(pe.a,{primary:e.title}))}()})):null),r.a.createElement(ut,null)),r.a.createElement("main",{className:Object($.a)(a.content,Object(R.a)({},a.contentShift,s))},S)))}var Et=a(408),jt=a(407);function Ft(e){return r.a.createElement(jt.a,Object.assign({elevation:6,variant:"filled"},e))}var Ot=Object(x.a)({palette:{type:"dark"}}),St=Object(ie.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function yt(e){var t=St(),a=r.a.useState(!0),n=Object(g.a)(a,2),o=n[0],c=n[1],l=function(e,t){"clickaway"!==t&&c(!1)};return r.a.createElement("div",{className:t.root},r.a.createElement(T.a,{theme:Ot},r.a.createElement(Et.a,{open:o,autoHideDuration:3e3,onClose:l},r.a.createElement(Ft,{onClose:l,severity:e.severity},e.message))))}a(71);var wt=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"filterState",value:function(e){return{cover:e.cover,coverShort:e.coverShort,coverSuccess:e.coverSuccess,userCovers:e.userCovers,info:e.info,deleteC:e.deleteC,saveSuccess:e.saveSuccess,defaultCover:e.defaultCover,currentUser:e.currentUser,deleteSuccess:e.deleteSuccess}}},{key:"render",value:function(){var e=this.state,t=e.cover,a=e.coverShort,n=e.coverSuccess,o=e.userCovers,c=e.info,l=e.deleteC,i=e.saveSuccess,s=e.defaultCover,u=e.currentUser,m=e.deleteSuccess;return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{className:"cover",maxWidth:"false",disableGutters:"true"},r.a.createElement(vt,{userCovers:o,defaultCover:s})),!0===a&&r.a.createElement(yt,{severity:"warning",message:"Title length has to be between 1 and 12 characters"}),!0===n&&r.a.createElement(yt,{severity:"success",message:"Succesfully created!"}),!0===i&&r.a.createElement(yt,{severity:"success",message:"Saved"}),!0===m&&r.a.createElement(yt,{severity:"success",message:"Deleted"}),!0===c&&r.a.createElement(H,{currentUser:u}),!0===l&&r.a.createElement(P,{title:t.title}))}}]),a}(h),Ct=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).props.history.push("/dashboard"),n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App center"},r.a.createElement(wt,null))}}]),a}(r.a.Component),kt=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:["/","/dashboard"],render:function(e){var t=e.history;return r.a.createElement(Ct,{history:t})}}),r.a.createElement(p.a,{render:function(){return r.a.createElement("div",null,"404 Not found")}})))}}]),a}(r.a.Component),xt=a(156),Tt=a.n(xt),Nt=a(384),Dt=a(409),Bt=a(157),It=a.n(Bt),_t=a(158),Ut=a.n(_t),Lt=a(404),Wt=(a(141),Object(ie.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center"},margin:{margin:e.spacing(1)},withoutLabel:{marginTop:e.spacing(3)},textField:{width:"250px"}}}))),Pt=Object(x.a)({overrides:{MuiInput:{underline:{"&:before":{borderBottom:"1px solid #FFFFFF44"},"&:hover":{borderBottom:"1px solid #FFFFFF88"},"&:hover:not($disabled):after":{borderBottom:"1px solid #FFFFFF"},"&:hover:not($disabled):before":{borderBottom:"1px solid #FFFFFFAA"},"&:after":{borderBottom:"1px solid #FFFFFF44"}}},MuiInputLabel:{root:{color:"#FFFFFFDC","&$focused":{color:"#FFFFFF"}}},MuiIconButton:{root:{color:"#FFFFFFDC"}},MuiInputBase:{root:{color:"#FFFFFFDC"}}}});function At(){var e,t=Wt(),a=r.a.useState({password:"",showPassword:!1}),n=Object(g.a)(a,2),o=n[0],c=n[1];return r.a.createElement(T.a,{theme:Pt},r.a.createElement("div",{className:t.root},r.a.createElement(ye.a,{fullWidth:!0,className:Object($.a)(t.margin,t.textField)},r.a.createElement(Dt.a,{htmlFor:"standard-adornment-password"},"Password"),r.a.createElement(Nt.a,{id:"standard-adornment-password",type:o.showPassword?"text":"password",value:o.password,name:"password",className:"password",margin:"normal",fullWidth:"true",required:"true",onChange:(e="password",function(t){c(Object(M.a)({},o,Object(R.a)({},e,t.target.value))),dt(t.target)}),onKeyDown:function(e){13===e.keyCode&&pt()},endAdornment:r.a.createElement(Lt.a,{position:"end"},r.a.createElement(le.a,{"aria-label":"toggle password visibility",onClick:function(){c(Object(M.a)({},o,{showPassword:!o.showPassword}))},onMouseDown:function(e){e.preventDefault()}},o.showPassword?r.a.createElement(It.a,null):r.a.createElement(Ut.a,null)))}))))}var Ht=Object(x.a)({overrides:{MuiInput:{underline:{"&:before":{borderBottom:"1px solid #FFFFFF44"},"&:hover":{borderBottom:"1px solid #FFFFFF88"},"&:hover:not($disabled):after":{borderBottom:"1px solid #FFFFFF"},"&:hover:not($disabled):before":{borderBottom:"1px solid #FFFFFF88"}}}}}),Rt=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"filterState",value:function(e){return{failedLogin:e.failedLogin,invalidUsername:e.invalidUsername,passwordShort:e.passwordShort,registered:e.registered}}},{key:"render",value:function(){var e=this.state,t=e.failedLogin,a=e.invalidUsername,n=e.passwordShort,o=e.registered;return r.a.createElement(T.a,{theme:Ht},r.a.createElement("div",{className:"login__bg-image center"},r.a.createElement(Tt.a,null),r.a.createElement("div",{className:"login__card center"},r.a.createElement("h2",{id:"login__h2"},"Cover Hack"),r.a.createElement(S.a,{name:"username",label:"Username",className:"login__input app__input app__horizontal-center",margin:"normal",autoFocus:"true",InputProps:{style:{color:"#FFFFFFDE"}},onChange:function(e){return dt(e.target)},onKeyDown:function(e){13===e.keyCode&&pt()}}),r.a.createElement(At,null),r.a.createElement("div",{className:"login__center"},r.a.createElement(F.a,{className:"login__button",onClick:pt},"Log In"),r.a.createElement(F.a,{className:"login__button",onClick:ft},"Register"))),!0===t&&r.a.createElement(yt,{severity:"error",message:"Invalid username/password combination"}),!0===a&&r.a.createElement(yt,{severity:"error",message:"Failed to register, choose a different username"}),!0===n&&r.a.createElement(yt,{severity:"warning",message:"Password too short, minimum of 6 characters"}),!0===o&&r.a.createElement(yt,{severity:"success",message:"Registered, welcome!"})))}}]),a}(h),Mt=a(159),$t=a.n(Mt),zt=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),n=t.call(this,e),fetch("/users/check-session").then((function(e){if(200===e.status)return e.json()})).then((function(e){e&&e.currentUser&&(Object(l.setState)("currentUser",e.currentUser),Object(l.setState)("userID",e.userID),I())})).catch((function(e){console.log(e)})),n}return Object(s.a)(a,[{key:"filterState",value:function(e){return{currentUser:e.currentUser}}}]),Object(s.a)(a,[{key:"render",value:function(){var e=this.state.currentUser;return r.a.createElement($t.a,null,r.a.createElement("div",{className:"app"},e?r.a.createElement(kt,null):r.a.createElement(Rt,null)))}}]),a}(h);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(335);mt(),Object(l.startLogging)(),c.a.render(r.a.createElement(zt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},71:function(e,t,a){}},[[179,1,2]]]);
//# sourceMappingURL=main.adbb9eb6.chunk.js.map